okay, i want to add a new ev logging method that rely on comparing the odds values just before the ev appeared and just when it appeared.
let me explain, in this method, for the code to conclude who was the overprice source, when an ev opportunity appears, the code will compare the odds of the fair and ev sources to their old values in the cycle just before that opportunity appeared, here is what the code should conclude from the odds comparison : there are two main scenarios :
- scenario 1 when only one of two sources changed its value which created an ev opportunity (when the code compares the fair source and ev source odds values of when the opportunity appears with their old values from the cycle just before the appearance of the copportunity, the code will find that only one odd was changed after that cycle which led to the ev opportunity) : in this scenario there are two possiblities, the first one is when the fair source odd was the one that changed its value to create an ev opportunity, then in this case the fair source odd value was higher then what it is when the opportunity appeared which means that its value dropped while the ev source odd remained the same which caused the ev opportunity appearance, in this case the code should conclude that the ev source is the overprice source (because it was slow in changing its odds). the other possiblity in the first scenario is that the ev source odd is the one that changed its value and the fair source odd remained the same, in this case the ev source odd value was lower then what it is when the opportunity appeared which means that its value increased and the fair odd remained the same which created that ev opportunity,  in this case the code should conclude that the fair source is the overprice source (because it was slow in changing its odds).
- the scenario 2 when both of the two sources changed their values which created an ev opportunity (when the code compares the fair source and ev source odds values of when the opportunity appears with their old values from the cycle just before the appearance of the copportunity, the code will find that the two odds were changed after that cycle which led to the ev opportunity), in this case the code must rely on the other ev method by investigating its disppearance.
- the new method i am talking you about will not be used if an ev opportunity appeared due to the appearance of an odd that was not present (example blocked match or blocked odd that got unblocked and made available to bet), the fair and the ev sources must have their ev opportunity odds values present in the cycle just before to use this method (for comparing)
- this method if it concluded who was the overprice source without relying on the disappearance investigation method will do these :
   * in the ev output json files, there will be an "overprice_source": that will contain either the {ev_source} or the "fair_source"
   * the ev logging is the same as the disappearance investigation example : "{
    "overprice": 0.1037,
    "overprice_source": "Tounesbet",
    "odd_name": "both_score_odd",
    "old_fair_odd": 1.9036,
    "old_Tounesbet_odd": 2.101,
    "new_fair_odd": 1.9036,
    "new_Tounesbet_odd": 2.013,
    "opportunity_duration": "8 seconds",
    "group_id": "634885094-16106569",
    "home_team": "Queen's Park",
    "away_team": "Celtic",
    "disappeared_at": "2025-07-04T19:50:29.651973"
  },"
the "old_fair_odd" and "old_{ev_source}_odd" are the odds values in the cycle just before the opportunity appeared and the "new_fair_odd" and "new_{ev_source}_odd" are the ev opportunities odds values, the "overprice" should be calculated using the ev oppotunity odds ("new_fair_odd" and "new_{ev_source}_odd"), the "opportunity_duration" will be set and added to the ev log after the opportunity dies
- to choose if the code should use this method for concluding (when it can concludes) who was the overprice source then add this option to the ev json : "APPEARANCE_INVESTIGATION" if set to True then the code will use it for trying to conclude the overprice source when an ev opportunity appears.
- if the appearance investigation method is used (APPEARANCE_INVESTIGATION is true) then the opportunities already investigated by that method will not be investigated again when disappeared by the disappearance method unless an option named "DOUBLE_CHECK" is True in the ev json. example an opportunity appears and the code was able to conclude the overprice source using the appearance investigation method, then that opportunity will not be investigated by the disappearance method when it disappears unless "DOUBLE_CHECK" is True.
- both methods will now export their logs per group id, that means each match will have a unique folder named by its group id, example "ev_source_log\live\Tounesbet\football\04-07-2025\Tounesbet\634885094-16106569" that folder will contain any logs that are related to that match in two directories "disappearance investigations" which will contain the logs exported by the disappearance investigation method, and the other folder "appearance investigations" which will contain the logs exported by the appearance investigation method
- logs are still named after their odds and appended without overwrting the whole file (same as it is now)
- make sure to add the functionality i explained and to not change anything not related to my request and preserve the original code logic if APPEARANCE_INVESTIGATION is False, except the new folder named by group id for exporting which will be used by the disappearance method even if APPEARANCE_INVESTIGATION (both methods will use the new group id folder but each one with its own folder as i mentioned before)